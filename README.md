# task_manager
Модуль - аналог крона для запуска функций из HL блока(также логирование времени и ошибок)

Инструкция по использованию модуля:

Устанавливаем модуль из админ панели
Для примера уже создана ОРМ таблица с несколькими строками для примера, для запуска функции можно использовать следующий код:
if (CModule::IncludeModule("afonya"))
\Bitrix\Afonya\TaskManager::startTaskManager();

Также код размещен в файле start.php (добавлено в гит)
Важно - запускать скрипт только в режиме инкогнито, т.к. для сессии запустившей скрипт(до момента его остановки) сайт перестанет отвечать, для остальных юзеров - все ок.

Для остановки скрипта в папке lib модуля предусмотрен stopFile.php, где необходимо вписать любое слово - например stop, и сохранить, скрипт будет остановлен по завершении последней итерации задач.

Логи сохраняются в  /var/www/log/taskmanager-task.log
